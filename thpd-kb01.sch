EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 2
Title "thpd-kb01"
Date ""
Rev "1.0"
Comp "THPd"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 6550 1550 550  2450
U 618363D6
F0 "keys_matrix" 50
F1 "thpd-kb01-keys.sch" 50
F2 "ROW0" I L 6550 1600 50 
F3 "ROW1" I L 6550 1700 50 
F4 "ROW2" I L 6550 1800 50 
F5 "ROW3" I L 6550 1900 50 
F6 "ROW4" I L 6550 2000 50 
F7 "ROW5" I L 6550 2100 50 
F8 "COL0" I L 6550 2200 50 
F9 "COL1" I L 6550 2300 50 
F10 "COL2" I L 6550 2400 50 
F11 "COL3" I L 6550 2500 50 
F12 "COL4" I L 6550 2600 50 
F13 "COL5" I L 6550 2700 50 
F14 "COL6" I L 6550 2800 50 
F15 "COL7" I L 6550 2900 50 
F16 "COL8" I L 6550 3000 50 
F17 "COL9" I L 6550 3100 50 
F18 "COL10" I L 6550 3200 50 
F19 "COL11" I L 6550 3300 50 
F20 "COL12" I L 6550 3400 50 
F21 "COL13" I L 6550 3500 50 
F22 "COL14" I L 6550 3600 50 
F23 "COL15" I L 6550 3700 50 
F24 "COL16" I L 6550 3800 50 
F25 "COL17" I L 6550 3900 50 
$EndSheet
$Comp
L power:GND #PWR01
U 1 1 61781036
P 1050 7200
F 0 "#PWR01" H 1050 6950 50  0001 C CNN
F 1 "GND" H 1055 7027 50  0000 C CNN
F 2 "" H 1050 7200 50  0001 C CNN
F 3 "" H 1050 7200 50  0001 C CNN
	1    1050 7200
	1    0    0    -1  
$EndComp
Text GLabel 4800 3850 2    50   Input ~ 0
D-
Text GLabel 4550 3950 2    50   Input ~ 0
D+
$Comp
L power:+5V #PWR08
U 1 1 6177BB60
P 4150 5850
F 0 "#PWR08" H 4150 5700 50  0001 C CNN
F 1 "+5V" H 4165 6023 50  0000 C CNN
F 2 "" H 4150 5850 50  0001 C CNN
F 3 "" H 4150 5850 50  0001 C CNN
	1    4150 5850
	1    0    0    -1  
$EndComp
$Comp
L Device:Polyfuse_Small F1
U 1 1 61779F39
P 5300 5700
F 0 "F1" V 5095 5700 50  0000 C CNN
F 1 "500mA" V 5186 5700 50  0000 C CNN
F 2 "Fuse:Fuse_1206_3216Metric" H 5350 5500 50  0001 L CNN
F 3 "~" H 5300 5700 50  0001 C CNN
	1    5300 5700
	0    1    1    0   
$EndComp
$Comp
L Connector:USB_C_Receptacle_USB2.0 J1
U 1 1 61899044
P 1350 6200
F 0 "J1" H 1457 7067 50  0000 C CNN
F 1 "USB_C_Receptacle_USB2.0" H 1457 6976 50  0000 C CNN
F 2 "Connector_USB:USB_C_Receptacle_HRO_TYPE-C-31-M-12" H 1500 6200 50  0001 C CNN
F 3 "https://www.usb.org/sites/default/files/documents/usb_type-c.zip" H 1500 6200 50  0001 C CNN
	1    1350 6200
	1    0    0    -1  
$EndComp
Wire Wire Line
	1350 7100 1050 7100
Wire Wire Line
	1050 7200 1050 7100
Connection ~ 1050 7100
Wire Wire Line
	1950 6100 1950 6200
Wire Wire Line
	1950 6400 1950 6300
NoConn ~ 1950 6700
NoConn ~ 1950 6800
$Comp
L Device:R_Small R2
U 1 1 618A7116
P 2600 6000
F 0 "R2" H 2541 5954 50  0000 R CNN
F 1 "5.1k" H 2541 6045 50  0000 R CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 2600 6000 50  0001 C CNN
F 3 "~" H 2600 6000 50  0001 C CNN
	1    2600 6000
	-1   0    0    1   
$EndComp
$Comp
L Device:R_Small R3
U 1 1 618A870D
P 2900 6000
F 0 "R3" H 2959 6046 50  0000 L CNN
F 1 "5.1k" H 2959 5955 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric" H 2900 6000 50  0001 C CNN
F 3 "~" H 2900 6000 50  0001 C CNN
	1    2900 6000
	1    0    0    -1  
$EndComp
Wire Wire Line
	1950 5900 2600 5900
Wire Wire Line
	1950 5800 2900 5800
Wire Wire Line
	2600 6100 2600 7100
Wire Wire Line
	2600 7100 1350 7100
Connection ~ 1350 7100
Connection ~ 2600 7100
Wire Wire Line
	2900 5800 2900 5900
Wire Wire Line
	2900 6100 2900 7100
Wire Wire Line
	2900 7100 2600 7100
$Comp
L MCU_ST_STM32F0:STM32F072C8Tx U1
U 1 1 618DB153
P 3650 2950
F 0 "U1" H 3600 1361 50  0000 C CNN
F 1 "STM32F072C8Tx" H 3600 1270 50  0000 C CNN
F 2 "Package_QFP:LQFP-48_7x7mm_P0.5mm" H 3050 1550 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00090510.pdf" H 3650 2950 50  0001 C CNN
	1    3650 2950
	1    0    0    -1  
$EndComp
Wire Wire Line
	3450 1300 3450 1450
Wire Wire Line
	3850 1450 3750 1450
Connection ~ 3450 1450
Connection ~ 3550 1450
Wire Wire Line
	3550 1450 3450 1450
Connection ~ 3650 1450
Wire Wire Line
	3650 1450 3550 1450
Connection ~ 3750 1450
Wire Wire Line
	3750 1450 3650 1450
$Comp
L power:GND #PWR07
U 1 1 618DCDD4
P 3450 4750
F 0 "#PWR07" H 3450 4500 50  0001 C CNN
F 1 "GND" H 3455 4577 50  0000 C CNN
F 2 "" H 3450 4750 50  0001 C CNN
F 3 "" H 3450 4750 50  0001 C CNN
	1    3450 4750
	1    0    0    -1  
$EndComp
Wire Wire Line
	3750 4450 3650 4450
Wire Wire Line
	3450 4450 3450 4750
Connection ~ 3450 4450
Connection ~ 3550 4450
Wire Wire Line
	3550 4450 3450 4450
Connection ~ 3650 4450
Wire Wire Line
	3650 4450 3550 4450
Wire Wire Line
	5400 5700 5600 5700
$Comp
L Power_Protection:USBLC6-2SC6 U2
U 1 1 61991CC6
P 4150 6350
F 0 "U2" H 4450 6000 50  0000 C CNN
F 1 "USBLC6-2SC6" H 4500 5900 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-6" H 4150 5850 50  0001 C CNN
F 3 "https://www.st.com/resource/en/datasheet/usblc6-2.pdf" H 4350 6700 50  0001 C CNN
	1    4150 6350
	1    0    0    -1  
$EndComp
Text GLabel 3750 6450 0    50   Input ~ 0
D-
Text GLabel 4550 6450 2    50   Input ~ 0
D+
Text GLabel 2000 6200 2    50   Input ~ 0
DCONN-
Text GLabel 2000 6300 2    50   Input ~ 0
DCONN+
Text GLabel 3750 6250 0    50   Input ~ 0
DCONN-
Text GLabel 4550 6250 2    50   Input ~ 0
DCONN+
$Comp
L power:GND #PWR09
U 1 1 619952B6
P 4150 6850
F 0 "#PWR09" H 4150 6600 50  0001 C CNN
F 1 "GND" H 4155 6677 50  0000 C CNN
F 2 "" H 4150 6850 50  0001 C CNN
F 3 "" H 4150 6850 50  0001 C CNN
	1    4150 6850
	1    0    0    -1  
$EndComp
Wire Wire Line
	4150 6850 4150 6750
Wire Wire Line
	4150 5850 4150 5950
Wire Wire Line
	1950 6300 2000 6300
Connection ~ 1950 6300
Wire Wire Line
	1950 6200 2000 6200
Connection ~ 1950 6200
$Comp
L Device:R_Small R5
U 1 1 61997E5C
P 4650 3850
F 0 "R5" V 4454 3850 50  0000 C CNN
F 1 "22" V 4545 3850 50  0000 C CNN
F 2 "" H 4650 3850 50  0001 C CNN
F 3 "~" H 4650 3850 50  0001 C CNN
	1    4650 3850
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small R4
U 1 1 619987AC
P 4400 3950
F 0 "R4" V 4204 3950 50  0000 C CNN
F 1 "22" V 4295 3950 50  0000 C CNN
F 2 "" H 4400 3950 50  0001 C CNN
F 3 "~" H 4400 3950 50  0001 C CNN
	1    4400 3950
	0    1    1    0   
$EndComp
Wire Wire Line
	4250 3950 4300 3950
Wire Wire Line
	4500 3950 4550 3950
Wire Wire Line
	4250 3850 4550 3850
Wire Wire Line
	4800 3850 4750 3850
$Comp
L power:+5V #PWR04
U 1 1 6199B61D
P 2100 5600
F 0 "#PWR04" H 2100 5450 50  0001 C CNN
F 1 "+5V" H 2115 5773 50  0000 C CNN
F 2 "" H 2100 5600 50  0001 C CNN
F 3 "" H 2100 5600 50  0001 C CNN
	1    2100 5600
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 5600 1950 5600
$Comp
L power:+3.3V #PWR06
U 1 1 6199CAF2
P 3450 1300
F 0 "#PWR06" H 3450 1150 50  0001 C CNN
F 1 "+3.3V" H 3465 1473 50  0000 C CNN
F 2 "" H 3450 1300 50  0001 C CNN
F 3 "" H 3450 1300 50  0001 C CNN
	1    3450 1300
	1    0    0    -1  
$EndComp
$Comp
L Regulator_Linear:XC6206PxxxMR U3
U 1 1 619BA934
P 6250 5700
F 0 "U3" H 6250 5942 50  0000 C CNN
F 1 "XC6206PxxxMR" H 6250 5851 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 6250 5925 50  0001 C CIN
F 3 "https://www.torexsemi.com/file/xc6206/XC6206.pdf" H 6250 5700 50  0001 C CNN
	1    6250 5700
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C2
U 1 1 619BB4C8
P 5600 5800
F 0 "C2" H 5692 5846 50  0000 L CNN
F 1 "1uF" H 5692 5755 50  0000 L CNN
F 2 "" H 5600 5800 50  0001 C CNN
F 3 "~" H 5600 5800 50  0001 C CNN
	1    5600 5800
	1    0    0    -1  
$EndComp
Wire Wire Line
	5950 5700 5600 5700
Connection ~ 5600 5700
$Comp
L power:+5V #PWR010
U 1 1 619BD9A6
P 5000 5700
F 0 "#PWR010" H 5000 5550 50  0001 C CNN
F 1 "+5V" H 5015 5873 50  0000 C CNN
F 2 "" H 5000 5700 50  0001 C CNN
F 3 "" H 5000 5700 50  0001 C CNN
	1    5000 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5000 5700 5200 5700
$Comp
L power:GND #PWR011
U 1 1 619BE6C8
P 6250 6100
F 0 "#PWR011" H 6250 5850 50  0001 C CNN
F 1 "GND" H 6255 5927 50  0000 C CNN
F 2 "" H 6250 6100 50  0001 C CNN
F 3 "" H 6250 6100 50  0001 C CNN
	1    6250 6100
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 6100 6250 6000
Wire Wire Line
	6250 6000 5600 6000
Wire Wire Line
	5600 6000 5600 5900
Connection ~ 6250 6000
$Comp
L Device:C_Small C3
U 1 1 619BF843
P 6700 5800
F 0 "C3" H 6792 5846 50  0000 L CNN
F 1 "1uF" H 6792 5755 50  0000 L CNN
F 2 "" H 6700 5800 50  0001 C CNN
F 3 "~" H 6700 5800 50  0001 C CNN
	1    6700 5800
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR012
U 1 1 619C029E
P 7050 5700
F 0 "#PWR012" H 7050 5550 50  0001 C CNN
F 1 "+3.3V" H 7065 5873 50  0000 C CNN
F 2 "" H 7050 5700 50  0001 C CNN
F 3 "" H 7050 5700 50  0001 C CNN
	1    7050 5700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7050 5700 6700 5700
Connection ~ 6700 5700
Wire Wire Line
	6700 5700 6550 5700
Wire Wire Line
	6700 5900 6700 6000
Wire Wire Line
	6700 6000 6250 6000
$Comp
L power:+3.3V #PWR02
U 1 1 6193E995
P 1350 1650
F 0 "#PWR02" H 1350 1500 50  0001 C CNN
F 1 "+3.3V" H 1365 1823 50  0000 C CNN
F 2 "" H 1350 1650 50  0001 C CNN
F 3 "" H 1350 1650 50  0001 C CNN
	1    1350 1650
	1    0    0    -1  
$EndComp
$Comp
L Switch:SW_SPDT SW1
U 1 1 6193D42E
P 1650 1850
F 0 "SW1" H 1650 1525 50  0000 C CNN
F 1 "SW_SPDT" H 1650 1616 50  0000 C CNN
F 2 "" H 1650 1850 50  0001 C CNN
F 3 "~" H 1650 1850 50  0001 C CNN
	1    1650 1850
	-1   0    0    1   
$EndComp
Wire Wire Line
	1450 1750 1350 1750
Wire Wire Line
	1350 1750 1350 1650
$Comp
L power:GND #PWR03
U 1 1 6193FF44
P 1350 2000
F 0 "#PWR03" H 1350 1750 50  0001 C CNN
F 1 "GND" H 1355 1827 50  0000 C CNN
F 2 "" H 1350 2000 50  0001 C CNN
F 3 "" H 1350 2000 50  0001 C CNN
	1    1350 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	1450 1950 1350 1950
Wire Wire Line
	1350 1950 1350 2000
$Comp
L Device:R_Small R1
U 1 1 61940DE7
P 2050 1850
F 0 "R1" V 1854 1850 50  0000 C CNN
F 1 "10k" V 1945 1850 50  0000 C CNN
F 2 "" H 2050 1850 50  0001 C CNN
F 3 "~" H 2050 1850 50  0001 C CNN
	1    2050 1850
	0    1    1    0   
$EndComp
$Comp
L Switch:SW_Push SW2
U 1 1 61942FCD
P 2600 1150
F 0 "SW2" H 2600 1435 50  0000 C CNN
F 1 "SW_Push" H 2600 1344 50  0000 C CNN
F 2 "" H 2600 1350 50  0001 C CNN
F 3 "~" H 2600 1350 50  0001 C CNN
	1    2600 1150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 1850 1950 1850
$Comp
L power:GND #PWR05
U 1 1 6194CE67
P 2350 1500
F 0 "#PWR05" H 2350 1250 50  0001 C CNN
F 1 "GND" H 2355 1327 50  0000 C CNN
F 2 "" H 2350 1500 50  0001 C CNN
F 3 "" H 2350 1500 50  0001 C CNN
	1    2350 1500
	1    0    0    -1  
$EndComp
Wire Wire Line
	2150 1850 2950 1850
$Comp
L Device:C_Small C1
U 1 1 619518C0
P 2600 1400
F 0 "C1" H 2692 1446 50  0000 L CNN
F 1 "100nF" H 2692 1355 50  0000 L CNN
F 2 "" H 2600 1400 50  0001 C CNN
F 3 "~" H 2600 1400 50  0001 C CNN
	1    2600 1400
	0    1    1    0   
$EndComp
Wire Wire Line
	2500 1400 2350 1400
Connection ~ 2350 1400
Wire Wire Line
	2950 1650 2850 1650
Wire Wire Line
	2850 1650 2850 1400
Wire Wire Line
	2700 1400 2850 1400
Connection ~ 2850 1400
Wire Wire Line
	2350 1150 2400 1150
Wire Wire Line
	2350 1150 2350 1400
Wire Wire Line
	2850 1150 2800 1150
Wire Wire Line
	2850 1150 2850 1400
Wire Wire Line
	2350 1400 2350 1500
$Comp
L Device:C_Small C4
U 1 1 61960CDC
P 8050 5600
F 0 "C4" H 8142 5646 50  0000 L CNN
F 1 "4.7uF" H 8142 5555 50  0000 L CNN
F 2 "" H 8050 5600 50  0001 C CNN
F 3 "~" H 8050 5600 50  0001 C CNN
	1    8050 5600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C5
U 1 1 61960F53
P 8400 5600
F 0 "C5" H 8492 5646 50  0000 L CNN
F 1 "100nF" H 8492 5555 50  0000 L CNN
F 2 "" H 8400 5600 50  0001 C CNN
F 3 "~" H 8400 5600 50  0001 C CNN
	1    8400 5600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C6
U 1 1 61961266
P 8750 5600
F 0 "C6" H 8842 5646 50  0000 L CNN
F 1 "100nF" H 8842 5555 50  0000 L CNN
F 2 "" H 8750 5600 50  0001 C CNN
F 3 "~" H 8750 5600 50  0001 C CNN
	1    8750 5600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C7
U 1 1 619614B2
P 9100 5600
F 0 "C7" H 9192 5646 50  0000 L CNN
F 1 "100nF" H 9192 5555 50  0000 L CNN
F 2 "" H 9100 5600 50  0001 C CNN
F 3 "~" H 9100 5600 50  0001 C CNN
	1    9100 5600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C8
U 1 1 6196177D
P 9450 5600
F 0 "C8" H 9542 5646 50  0000 L CNN
F 1 "1uF" H 9542 5555 50  0000 L CNN
F 2 "" H 9450 5600 50  0001 C CNN
F 3 "~" H 9450 5600 50  0001 C CNN
	1    9450 5600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C9
U 1 1 61961A31
P 9800 5600
F 0 "C9" H 9892 5646 50  0000 L CNN
F 1 "10nF" H 9892 5555 50  0000 L CNN
F 2 "" H 9800 5600 50  0001 C CNN
F 3 "~" H 9800 5600 50  0001 C CNN
	1    9800 5600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C10
U 1 1 61961CB5
P 10150 5600
F 0 "C10" H 10242 5646 50  0000 L CNN
F 1 "4.7uF" H 10242 5555 50  0000 L CNN
F 2 "" H 10150 5600 50  0001 C CNN
F 3 "~" H 10150 5600 50  0001 C CNN
	1    10150 5600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C11
U 1 1 61961E5C
P 10500 5600
F 0 "C11" H 10592 5646 50  0000 L CNN
F 1 "100nF" H 10592 5555 50  0000 L CNN
F 2 "" H 10500 5600 50  0001 C CNN
F 3 "~" H 10500 5600 50  0001 C CNN
	1    10500 5600
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR013
U 1 1 6196203D
P 8050 5350
F 0 "#PWR013" H 8050 5200 50  0001 C CNN
F 1 "+3.3V" H 8065 5523 50  0000 C CNN
F 2 "" H 8050 5350 50  0001 C CNN
F 3 "" H 8050 5350 50  0001 C CNN
	1    8050 5350
	1    0    0    -1  
$EndComp
Wire Wire Line
	8050 5350 8050 5500
Wire Wire Line
	8050 5500 8400 5500
Connection ~ 8050 5500
Connection ~ 8400 5500
Wire Wire Line
	8400 5500 8750 5500
Connection ~ 8750 5500
Wire Wire Line
	8750 5500 9100 5500
Connection ~ 9100 5500
Wire Wire Line
	9100 5500 9450 5500
Connection ~ 9450 5500
Wire Wire Line
	9450 5500 9800 5500
Connection ~ 9800 5500
Wire Wire Line
	9800 5500 10150 5500
Connection ~ 10150 5500
Wire Wire Line
	10150 5500 10500 5500
$Comp
L power:GND #PWR014
U 1 1 61964DFD
P 8050 5850
F 0 "#PWR014" H 8050 5600 50  0001 C CNN
F 1 "GND" H 8055 5677 50  0000 C CNN
F 2 "" H 8050 5850 50  0001 C CNN
F 3 "" H 8050 5850 50  0001 C CNN
	1    8050 5850
	1    0    0    -1  
$EndComp
Wire Wire Line
	8050 5850 8050 5700
Wire Wire Line
	8050 5700 8400 5700
Connection ~ 8050 5700
Connection ~ 8400 5700
Wire Wire Line
	8400 5700 8750 5700
Connection ~ 8750 5700
Wire Wire Line
	8750 5700 9100 5700
Connection ~ 9100 5700
Wire Wire Line
	9100 5700 9450 5700
Connection ~ 9450 5700
Wire Wire Line
	9450 5700 9800 5700
Connection ~ 9800 5700
Wire Wire Line
	9800 5700 10150 5700
Connection ~ 10150 5700
Wire Wire Line
	10150 5700 10500 5700
$EndSCHEMATC
